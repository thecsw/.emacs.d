% Created 2020-10-26 Mon 22:21
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usepackage{minted}
\author{Sandy}
\date{\today}
\title{}
\hypersetup{
 pdfauthor={Sandy},
 pdftitle={},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 28.0.50 (Org mode 9.3)}, 
 pdflang={English}}
\begin{document}

\tableofcontents


\section{MELPA}
\label{sec:org97672bc}
\begin{minted}[]{common-lisp}
(require 'package)
(let* ((no-ssl (and (memq system-type '(windows-nt ms-dos))
		    (not (gnutls-available-p))))
       (proto (if no-ssl "http" "https")))
  (when no-ssl (warn "\
Your version of Emacs does not support SSL connections,
which is unsafe because it allows man-in-the-middle attacks.
There are two things you can do about this warning:
1. Install an Emacs version that does support SSL and be safe.
2. Remove this warning from your init file so you won't see it again."))
  (add-to-list 'package-archives (cons "melpa" (concat proto "://melpa.org/packages/")) t)
  ;; Comment/uncomment this line to enable MELPA Stable if desired.  See `package-archive-priorities`
  ;; and `package-pinned-packages`. Most users will not need or want to do this.
  ;;(add-to-list 'package-archives (cons "melpa-stable" (concat proto "://stable.melpa.org/packages/")) t)
  )
(package-initialize)
\end{minted}
\section{Coding styles}
\label{sec:orge028dfa}
\subsection{C}
\label{sec:orga580f2b}

\begin{minted}[]{common-lisp}
(setq-default c-basic-offset 8
	      c-default-style "k&r"
	      tab-width 8
	      indent-tabs-mode t)
\end{minted}
\subsection{Python}
\label{sec:org050f709}
\begin{minted}[]{common-lisp}
(setq-default python-basic-offset 8
	      tab-width 8
	      indent-tabs-mode t)
\end{minted}
\subsection{HTML}
\label{sec:org98291e7}
\begin{minted}[]{common-lisp}
(add-hook 'html-mode-hook
	  (lambda ()
	    ;; Default indentation is usually 2 spaces, changing to 4.
	    (set (make-local-variable 'sgml-basic-offset) 4)))

(defun html-show-toc ()
  "Shows a TOC based on headings tags <H[1-6]>"
  (interactive)
  (if sgml-tags-invisible
      (error "SGML tags are invisible")
    (occur "<h[1-6]>")
    (pop-to-buffer "*Occur*")
    (vc-toggle-read-only)
    (goto-char (point-min))
    (replace-string "<h1>" "")
    (goto-char (point-min))
    (replace-string "<h2>" "  ")
    (goto-char (point-min))
    (replace-string "<h3>" "    ")
    (goto-char (point-min))
    (replace-string "<h4>" "      ")
    (goto-char (point-min))
    (replace-string "<h5>" "        ")
    (goto-char (point-min))
    (replace-string "<h6>" "          ")
    (goto-char (point-min))
    (replace-regexp "</h[1-6]>" "")
    (goto-char (point-min))
    (toggle-read-only 1)))

(defun html-end-of-line ()
  "If there is an HTML tag at the end of the line, then go to start of tag.
 Otherwise go to the real end of the line."
  (interactive)
  (if (or (looking-at ".*>$") ; if we're on a line that ends with a tag
	  (and (= (char-before) 62)
	       (= (point) (save-excursion
			    (end-of-line)
			    (point))))) ; or we're at the end of a line
					; with a tag
      (let ((where-now (point)))
	(narrow-to-region
	 (save-excursion
	   (beginning-of-line)
	   (point))
	 (save-excursion
	   (end-of-line)
	   (point)))
	(end-of-line)
	(re-search-backward "<" nil t)
	(if (= (point) where-now)
	    (end-of-line))
	(widen))
    (end-of-line)))

(add-hook 'html-helper-mode-hook
	  (lambda ()
	    (define-key html-helper-mode-map "\C-e" 'html-end-of-line)))
\end{minted}
\section{Backup control}
\label{sec:org16d6463}
\begin{minted}[]{common-lisp}
;; Instea of putting *~ backups in current directory,
;; put them in local .saves
(setq backup-directory-alist `(("." . ".saves")))

;; Just to stop spamming backup files
(setq delete-old-versions t
      kept-new-versions 6
      kept-old-versions 2
      version-control t)
\end{minted}
\section{Display control}
\label{sec:org65e87c4}
\subsection{Hide top bar}
\label{sec:orgf2d779c}
\begin{minted}[]{common-lisp}
(menu-bar-mode -1)
\end{minted}
\subsection{Line numbers}
\label{sec:orgac5f186}
\begin{minted}[]{common-lisp}
(setq linum-format "%4d  ")
(global-linum-mode 1)
\end{minted}
\subsection{Scrolling}
\label{sec:org5b9b712}
\begin{minted}[]{common-lisp}
(setq redisplay-dont-pause t
      scroll-margin 1
      scroll-step 1
      scroll-conservatively 10000
      scroll-preserve-screen-position 1)
\end{minted}
\subsection{Silence annoying bell}
\label{sec:org6733028}
\begin{minted}[]{common-lisp}
(setq ring-bell-function 'ignore)
\end{minted}
\subsection{Character limit in Org-Mode}
\label{sec:orgf35b481}
\begin{minted}[]{common-lisp}
(add-hook 'org-mode-hook '(lambda () (setq fill-column 80)))
(add-hook 'org-mode-hook 'turn-on-auto-fill)
\end{minted}
\subsection{Pair the braces}
\label{sec:org9e91ade}
\begin{minted}[]{common-lisp}
(require 'autopair)
(autopair-global-mode)
\end{minted}
\subsection{Open shell on F1}
\label{sec:orgd7387ae}
\begin{minted}[]{common-lisp}
(global-set-key (kbd "<f1>") 'shell)
\end{minted}
\subsection{Show Paren Mode}
\label{sec:org0667ddf}
\begin{minted}[]{common-lisp}
(show-paren-mode 1)
(setq show-paren-delay 0)
\end{minted}
\subsection{Disable validate link in HTML}
\label{sec:orgccf8d42}
\begin{minted}[]{common-lisp}
(setq org-html-validation-link nil)
\end{minted}
\subsection{Window management}
\label{sec:org2f15afe}
\begin{minted}[]{common-lisp}
(global-set-key (kbd "C-x <up>") 'windmove-up)
(global-set-key (kbd "C-x <down>") 'windmove-down)
(global-set-key (kbd "C-x <left>") 'windmove-left)
(global-set-key (kbd "C-x <right>") 'windmove-right)
\end{minted}
\subsection{Go to line preview}
\label{sec:org44894e9}
\begin{minted}[]{common-lisp}
(global-set-key [remap goto-line] 'goto-line-preview)
\end{minted}
\section{LSP}
\label{sec:org591ba5c}
\begin{minted}[]{common-lisp}
;; Give emacs some RAW power, yes
(setq gc-cons-threshold 100000000)
(setq read-process-output-max (* 1024 1024)) ;; 1mb

;; Configure LSP-UI by https://emacs-lsp.github.io/lsp-ui/
;; Optional - provides fancier overlays.
(use-package lsp-ui
  :ensure t
  :commands lsp-ui-mode)
;; Sideline options
(setq lsp-ui-sideline-show-diagnostics t)
(setq lsp-ui-sideline-show-hover nil)
(setq lsp-ui-sideline-show-code-actions t)
(setq lsp-ui-sideline-update-mode nil)

(use-package lsp-mode
  :hook ((go-mode . lsp)
	 (rust-mode . lsp)
	 (c++-mode . lsp)
	 (c-mode . lsp)
	 (js-mode . lsp)
	 (html-mode . lsp)
	 (python-mode . lsp)
	 (lsp-mode . lsp-enable-which-key-integration))
  :commands lsp)

(setq lsp-keymap-prefix "C-c l")

(global-set-key (kbd"C-c C-c") 'lsp-find-definition)
(global-set-key (kbd"C-c f") 'lsp-find-definition)

;; Set up before-save hooks to format buffer and add/delete imports.
;; Make sure you don't have other gofmt/goimports hooks enabled.
(defun lsp-go-install-save-hooks ()
  (add-hook 'before-save-hook #'lsp-format-buffer t t)
  (add-hook 'before-save-hook #'lsp-organize-imports t t))
(add-hook 'go-mode-hook #'lsp-go-install-save-hooks)

;; Automatically format code on save
(setq gofmt-command "goimports")
(add-hook 'before-save-hook 'gofmt-before-save)

;; Optional - provides snippet support.
(use-package yasnippet
  :ensure t
  :commands yas-minor-mode
  :hook (go-mode . yas-minor-mode))
\end{minted}
\section{Dashboard}
\label{sec:orgc44e190}
\begin{minted}[]{common-lisp}
;; Enable dashboard
(require 'dashboard)
;; Add the hook
(dashboard-setup-startup-hook)
;; Set the dashboard as the default buffer
(setq initial-buffer-choice (lambda () (get-buffer "*dashboard*")))
\end{minted}
\section{Magit}
\label{sec:org5b25bbe}

Press \texttt{C-x g} to open magit
\begin{minted}[]{common-lisp}
(global-set-key (kbd "C-x g") 'magit-status)
\end{minted}
\section{Powerline theme}
\label{sec:org59b3fa2}
\begin{minted}[]{common-lisp}
(require 'powerline)
;; Use the vim powerline theme
(powerline-default-theme)
\end{minted}
\section{TRAMP}
\label{sec:org92d674c}
\begin{minted}[]{common-lisp}
;; Default to ssh when using tramp
(setq tramp-default-method "ssh")
\end{minted}
\section{M-x Autocomplete}
\label{sec:org603b8c1}
\begin{minted}[]{common-lisp}
;; Fuzzy command complete on M-x
(global-set-key (kbd "M-x") 'smex)
\end{minted}
\section{Default theme}
\label{sec:org04c5551}
\begin{minted}[]{common-lisp}
;; I like lush and use it by default
;(load-theme 'lush t)
(load-theme 'abyss t)
\end{minted}
\section{Chef}
\label{sec:org6fa2b1c}
\begin{minted}[]{common-lisp}
(setq org-capture-templates
      '(("c" "Cookbook" entry (file "~/org/cookbook.org")
	 "%(org-chef-get-recipe-from-url)"
	 :empty-lines 1)
	("m" "Manual Cookbook" entry (file "~/org/cookbook.org")
	 "* %^{Recipe title: }\n  :PROPERTIES:\n  :source-url:\n  :servings:\n  :prep-time:\n  :cook-time:\n  :ready-in:\n  :END:\n** Ingredients\n   %?\n** Directions\n\n")))
\end{minted}
\section{Org mode}
\label{sec:org0977b00}
\begin{minted}[]{common-lisp}
(use-package org-special-block-extras
  :ensure t
  :hook (org-mode . org-special-block-extras-mode))

;; Add the Unicode bullets package
(add-hook 'org-mode-hook (lambda () (org-superstar-mode 1)))
;; This is usually the default, but keep in mind it must be nil
(setq org-hide-leading-stars nil)
;; This line is necessary.
(setq org-superstar-leading-bullet ?\s)
;; Add the new fancy extra org mode blocks
(add-hook 'org-mode-hook #'org-special-block-extras-mode)
;; Add timestamp when marked DONE
(setq org-log-done 'time)

;; Use org-ref
(require 'org)
(require 'ox-latex)
(add-to-list 'org-latex-packages-alist '("" "minted"))
(setq org-latex-listings 'minted)

(setq org-latex-custom-lang-environments
      '(
	(emacs-lisp "common-lispcode")
	))
(setq org-latex-minted-options
      '(("frame" "lines")
	("fontsize" "\\scriptsize")
	("linenos" "")))

;; Build nonstopmode with xelatex
(setq org-latex-pdf-process
      '("xelatex -shell-escape -interaction nonstopmode -output-directory %o %b %f"
	"bibtex %b"
	"makeindex %b"
	"xelatex -shell-escape -interaction nonstopmode -output-directory %o %b %f"
	"xelatex -shell-escape -interaction nonstopmode -output-directory %o %b %f"))

(setq org-src-fontify-natively t)

(org-babel-do-load-languages
 'org-babel-load-languages
 '((R . t)
   (latex . t)))
\end{minted}
\section{Olivetti}
\label{sec:orgdf3a3ea}
\begin{minted}[]{common-lisp}
(setq olivetti-body-width 80)
\end{minted}
\section{Git messenger}
\label{sec:org39bba6c}
\begin{minted}[]{common-lisp}
;; Press C-c c to open git-messenge
(global-set-key (kbd "C-c c") 'git-messenger:popup-message)
(custom-set-variables
 '(git-messenger:use-magit-popup t))
\end{minted}
\section{Emojify}
\label{sec:org044d5f5}
\begin{minted}[]{common-lisp}
(add-hook 'after-init-hook #'global-emojify-mode)
\end{minted}
\section{Ripgrep}
\label{sec:orgb83dd69}
\begin{minted}[]{common-lisp}
(global-set-key (kbd "<f5>") #'deadgrep)
\end{minted}
\section{Anzu search}
\label{sec:org37411ab}
\begin{minted}[]{common-lisp}
(global-anzu-mode +1)
\end{minted}
\section{Art bollocks}
\label{sec:org34e10d8}
\begin{minted}[]{common-lisp}
(autoload 'artbollocks-mode "artbollocks-mode")
(add-hook 'text-mode-hook 'artbollocks-mode)
\end{minted}
\section{EMMS}
\label{sec:org320e800}
\begin{minted}[]{common-lisp}
(emms-all)
(emms-default-players)
\end{minted}
\section{Artist}
\label{sec:orgc3b9894}
\begin{minted}[]{common-lisp}
(put 'narrow-to-region 'disabled nil)
\end{minted}
\section{Which key}
\label{sec:org6a6eb1e}
\begin{minted}[]{common-lisp}
(which-key-mode)
\end{minted}
\section{Projectile}
\label{sec:orgf1c1944}
\begin{minted}[]{common-lisp}
(projectile-mode +1)
(define-key projectile-mode-map (kbd "C-c p") 'projectile-command-map)
\end{minted}
\section{Gemini protocol}
\label{sec:orga030c4d}
\begin{minted}[]{common-lisp}
(add-hook 'gemini-mode-hook '(lambda () (setq fill-column 80)))
(add-hook 'gemini-mode-hook 'turn-on-auto-fill)
\end{minted}
\section{\LaTeX{} in org}
\label{sec:org7c79d5f}
\begin{minted}[]{common-lisp}
(setq org-highlight-latex-and-related '(latex script entities))
\end{minted}
\section{Default GUI font}
\label{sec:org4343666}
\begin{minted}[]{common-lisp}
(set-frame-font "InputMono 10" nil t)
\end{minted}
\end{document}
